'''
Created on Jan 6, 2018

@author: Piyawat Pemwattana
'''
import unittest, csv, absPath
import numpy as np
from scipy.sparse import csr_matrix
from idlelib.iomenu import encoding

CSVFILE_DIR = absPath.csv_file_path()

MAX_UID = 100
MAX_PID = 100

class Test(unittest.TestCase):

    def readUrm(self):
        urm = np.zeros(shape=(MAX_UID,MAX_PID), dtype=np.float32)
        with open(CSVFILE_DIR + 'users.csv', 'r', encoding="utf8") as trainFile:
            urmReader = csv.reader(trainFile, delimiter=',')
            for row in urmReader:
                urm[int(row[0]), int(row[1])] = float(row[2])
#                 print(row)
            print (csr_matrix(urm, dtype=np.float32))
            pass


if __name__ == "__main__":
    import sys;sys.argv = ['', 'Test.readUrm']
    unittest.main()